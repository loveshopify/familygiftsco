{"version":3,"sources":["webpack:///./src/js/components/ui/Dropdown/index.js"],"names":["Dropdown","el","ctx","this","isActive","init","initAnimations","bindEvents","dropdown","querySelector","instanceOptions","str2json","dataset","options","tl","gsap","timeline","paused","onComplete","onReverseComplete","set","display","immediateRender","from","opacity","duration","addEventListener","e","preventDefault","toggle","close","disabled","open","console","log","CustomEvent","play","dispatchEvent","isInactive","reverse","component","node"],"mappings":"mxBAOMA,E,WACJ,WAAYC,EAAIC,GAAK,YACnBC,KAAKC,UAAW,EAChBD,KAAKE,KAAKJ,GACVE,KAAKG,iBACLH,KAAKI,a,yCAGFN,GACHE,KAAKF,GAAKA,EAGVE,KAAKK,SAAWP,EAAGQ,cAAc,uBAGjC,IACMC,EAAkBC,YAASR,KAAKF,GAAGW,QAAQC,SACjC,EAAH,KAFI,IAEiBH,K,uCAGnB,WACTF,EAAWL,KAAKK,SAGtBL,KAAKW,GAAKC,IAAKC,SAAS,CACtBC,QAAQ,EACRC,WAAY,WACV,EAAKd,UAAW,GAElBe,kBAAmB,WACjB,EAAKf,UAAW,KAIpBD,KAAKW,GAAGM,IAAIZ,EAAU,CACpBa,QAAS,QAETC,iBAAiB,IAEnBnB,KAAKW,GAAGS,KAAKf,EAAU,CAGrBgB,QAAS,EACTC,SAAU,Q,mCAYD,WACXtB,KAAKF,GAAGyB,iBAAiB,SAAS,SAACC,GACjCA,EAAEC,iBACF,EAAKC,YAEP1B,KAAKF,GAAGyB,iBAAiB,cAAc,SAACC,GACtC,EAAKG,a,+BAcH3B,KAAK4B,WAGL5B,KAAKC,SACPD,KAAK2B,QAEL3B,KAAK6B,U,6BAKPC,QAAQC,IAAI,QACZ,IAAM9B,EAAW,IAAI+B,YAAY,YAC7BhC,KAAKC,WAGTD,KAAKW,GAAGsB,OACRjC,KAAKF,GAAGoC,cAAcjC,M,8BAItB,IAAMkC,EAAa,IAAIH,YAAY,cAC9BhC,KAAKC,WAGVD,KAAKW,GAAGyB,UACRpC,KAAKF,GAAGoC,cAAcC,Q,KAIXE,uBAAU,SAACC,EAAMvC,GAC9B,IAAIF,EAASyC,EAAMvC","file":"6.chunk.090b1b45ef6852838f93.js","sourcesContent":["import { component } from 'picoapp';\n// import { TimelineMax, CSSPlugin } from 'gsap/all';\n// const plugins = [CSSPlugin];\nimport { gsap } from 'gsap';\nimport { str2json } from '../../../utilities';\nimport './dropdown.scss';\n\nclass Dropdown {\n  constructor(el, ctx) {\n    this.isActive = false;\n    this.init(el);\n    this.initAnimations();\n    this.bindEvents();\n  }\n\n  init(el) {\n    this.el = el;\n\n    // Cache DOM queries\n    this.dropdown = el.querySelector('.Dropdown__contents');\n\n    // Options\n    const defaults = {};\n    const instanceOptions = str2json(this.el.dataset.options);\n    const options = { ...defaults, ...instanceOptions };\n  }\n\n  initAnimations() {\n    const dropdown = this.dropdown;\n    // const options = Array.from(this.dropdown.querySelector('.Nav').children);\n\n    this.tl = gsap.timeline({\n      paused: true,\n      onComplete: () => {\n        this.isActive = true;\n      },\n      onReverseComplete: () => {\n        this.isActive = false;\n      },\n    });\n\n    this.tl.set(dropdown, {\n      display: 'block',\n      // x: '-50%',\n      immediateRender: false,\n    });\n    this.tl.from(dropdown, {\n      // y: '20%',\n      // height: 0,\n      opacity: 0,\n      duration: 0.15,\n      // ease: Elastic.easeOut.config(1, 0.75),\n    });\n    // this.tl.staggerFrom(\n    //   options,\n    //   0.2,\n    //   { y: 8, opacity: 0, ease: Elastic.easeOut.config(1, 0.75) },\n    //   0.05,\n    //   '-=0.2'\n    // );\n  }\n\n  bindEvents() {\n    this.el.addEventListener('click', (e) => {\n      e.preventDefault();\n      this.toggle();\n    });\n    this.el.addEventListener('mouseleave', (e) => {\n      this.close();\n    });\n\n    // Close modal with ESC key\n    // $(document).keyup((e) => {\n    //   if (e.keyCode == 27 && this.isActive) {\n    //     // escape key maps to keycode `27`\n    //     this.close();\n    //   }\n    // });\n  }\n\n  toggle() {\n    // Bailout if toggle component is disabled\n    if (this.disabled) {\n      return;\n    }\n    if (this.isActive) {\n      this.close();\n    } else {\n      this.open();\n    }\n  }\n\n  open() {\n    console.log('OPEN');\n    const isActive = new CustomEvent('isActive');\n    if (this.isActive) {\n      return;\n    }\n    this.tl.play();\n    this.el.dispatchEvent(isActive);\n  }\n\n  close() {\n    const isInactive = new CustomEvent('isInactive');\n    if (!this.isActive) {\n      return;\n    }\n    this.tl.reverse();\n    this.el.dispatchEvent(isInactive);\n  }\n}\n\nexport default component((node, ctx) => {\n  new Dropdown(node, ctx);\n});\n\n// export default Dropdown;\n"],"sourceRoot":""}