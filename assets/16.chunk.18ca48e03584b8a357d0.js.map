{"version":3,"sources":["webpack:///./src/js/components/nav/LazyLoader.js"],"names":["InfiniteScroll","require","LazyLoader","el","ctx","this","identifier","dataset","init","querySelector","path","append","button","scrollThreshold","status","hideNav","history","on","response","items","forEach","element","elements","window","theme","Components","component","split","componentConstructor","AppComponents","node"],"mappings":"8IACMA,EAAiBC,EAAQ,KAEzBC,E,WACJ,WAAYC,EAAIC,GAAK,YACnBC,KAAKD,IAAMA,EACXC,KAAKC,WAAaH,EAAGI,QAAQD,WAC7BD,KAAKG,KAAKL,G,yCAGPA,IACHE,KAAKF,GAAKA,EAEWA,EAAGM,cAAc,+BAMvB,IAAIT,EAAeG,EAAGM,cAAc,SAAU,CAC3DC,KAAM,4BACNC,OAAQ,uBACRC,OAAQ,oBACRC,iBAAiB,EACjBC,OAAQ,oBACRC,QAAS,cACTC,SAAS,IAGJC,GAAG,UAAU,SAACC,EAAUR,EAAMS,GACnCA,EAAMC,SAAQ,SAACC,Y,qCAOJC,GACbC,OAAOC,MAAMC,WAAaF,OAAOC,MAAMC,YAAc,GACrDH,EAASF,SAAQ,SAACjB,GACAA,EAAGI,QAAQmB,UAAUC,MAAM,KACnCP,SAAQ,SAACQ,GACf,IAAIC,cAAcD,EAAsBzB,a,KAMjCuB,uBAAU,SAACI,EAAM1B,GAC9B,IAAIF,EAAW4B,EAAM1B","file":"16.chunk.18ca48e03584b8a357d0.js","sourcesContent":["import { component } from 'picoapp';\nconst InfiniteScroll = require('infinite-scroll');\n\nclass LazyLoader {\n  constructor(el, ctx) {\n    this.ctx = ctx;\n    this.identifier = el.dataset.identifier;\n    this.init(el);\n  }\n\n  init(el) {\n    this.el = el;\n\n    const nextPageLink = el.querySelector('.js-pageNav .nextPageLink');\n    // return;\n    if (!nextPageLink) {\n      return;\n    }\n\n    const loader = new InfiniteScroll(el.querySelector('.Loop'), {\n      path: '.js-pageNav .nextPageLink',\n      append: '.js-lazyload > .Card',\n      button: '.view-more-button',\n      scrollThreshold: false,\n      status: '.page-load-status',\n      hideNav: '.js-pageNav',\n      history: false,\n    });\n\n    loader.on('append', (response, path, items) => {\n      items.forEach((element) => {\n        // const components = element.querySelectorAll('[data-component]');\n        // this.initComponents(components);\n      });\n    });\n  }\n\n  initComponents(elements) {\n    window.theme.Components = window.theme.Components || [];\n    elements.forEach((el) => {\n      const modules = el.dataset.component.split(',');\n      modules.forEach((componentConstructor) => {\n        new AppComponents(componentConstructor, el);\n      });\n    });\n  }\n}\n\nexport default component((node, ctx) => {\n  new LazyLoader(node, ctx);\n});\n"],"sourceRoot":""}